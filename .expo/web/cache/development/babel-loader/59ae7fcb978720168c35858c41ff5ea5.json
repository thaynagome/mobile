{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/caiobastos/Documents/Faculdade-Impacta/Thayna/get-car-react/src/pages/Home/index.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { styles } from \"./styles\";\nimport Input from \"../../components/Input\";\nimport { auth } from \"../../services/api\";\nimport { isEmailValid, validateField } from \"../../util/validation\";\nexport default function Home(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  function login() {\n    return _regeneratorRuntime.async(function login$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n\n            if (isEmailValid(email)) {\n              _context.next = 4;\n              break;\n            }\n\n            Alert.alert('E-mail inválido.', 'O endereço de e-mail está inválido.');\n            return _context.abrupt(\"return\");\n\n          case 4:\n            if (validateField(password, 'Informe a senha')) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 6:\n            auth(email, password).then(function (result) {\n              setIsLoading(false);\n\n              if (!result) {\n                setIsLoading(false);\n                Alert.alert('Erro!', 'E-mail ou Senha Inválidos!\\nTente novamente.');\n                return;\n              }\n\n              navigation.reset({\n                index: 0,\n                routes: [{\n                  name: 'Products'\n                }]\n              });\n            }).catch(function (error) {\n              console.error(error);\n              Alert.alert('Erro ao Autenticar', 'Houve um erro ao tentar logar.\\nContate o administrador.');\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function openUserRegistration() {\n    navigation.reset({\n      index: 0,\n      routes: [{\n        name: 'UserRegistration'\n      }]\n    });\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    style: styles.logo,\n    source: require(\"../../../assets/CarShopp.gif\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), React.createElement(Input, {\n    label: \"E-mail\",\n    value: email,\n    onChange: setEmail,\n    keyboardType: \"email-address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), React.createElement(Input, {\n    label: \"Senha\",\n    value: password,\n    onChange: setPassword,\n    isPassword: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), !isLoading ? React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.appButtonContainerLogin,\n    onPress: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.appButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Entrar\")), React.createElement(TouchableOpacity, {\n    style: styles.appButtonContainerRegister,\n    onPress: openUserRegistration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.appButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, \"Criar\"))) : React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, React.createElement(ActivityIndicator, {\n    animating: isLoading,\n    size: \"large\",\n    color: \"#C4302B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  })));\n}","map":{"version":3,"sources":["/home/caiobastos/Documents/Faculdade-Impacta/Thayna/get-car-react/src/pages/Home/index.tsx"],"names":["React","useState","styles","Input","auth","isEmailValid","validateField","Home","navigation","email","setEmail","password","setPassword","isLoading","setIsLoading","login","Alert","alert","then","result","reset","index","routes","name","catch","error","console","openUserRegistration","container","logo","require","appButtonContainerLogin","appButtonText","appButtonContainerRegister"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { View, Image, Text, TouchableOpacity, ActivityIndicator, Alert } from 'react-native';\nimport { styles } from './styles';\nimport Input from '../../components/Input';\nimport { auth } from '../../services/api';\nimport { isEmailValid, validateField } from '../../util/validation';\n\nexport default function Home({ navigation }: any) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    async function login(): Promise<any> {\n        setIsLoading(true);\n\n        if (!isEmailValid(email)) {\n            Alert.alert(\n                'E-mail inválido.',\n                'O endereço de e-mail está inválido.'\n            );\n            return;\n        }\n\n        if (!validateField(password, 'Informe a senha')) {\n            return;\n        }\n\n        auth(email, password)\n            .then((result) => {\n                setIsLoading(false);\n\n                if (!result) {\n                    setIsLoading(false);\n                    Alert.alert(\n                        'Erro!',\n                        'E-mail ou Senha Inválidos!\\nTente novamente.'\n                    );\n                    return;\n                }\n\n                navigation.reset({\n                    index: 0,\n                    routes: [{ name: 'Products' }],\n                });\n            })\n            .catch((error) => {\n                console.error(error);\n                Alert.alert(\n                    'Erro ao Autenticar',\n                    'Houve um erro ao tentar logar.\\nContate o administrador.'\n                );\n            });\n    }\n\n    function openUserRegistration(): void {\n        navigation.reset({\n            index: 0,\n            routes: [{ name: 'UserRegistration' }],\n        });\n    }\n\n    return (\n        <View style={styles.container}>\n            <Image\n                style={styles.logo}\n                source={require('../../../assets/CarShopp.gif')}\n            />\n\n            <Input\n                label=\"E-mail\"\n                value={email}\n                onChange={setEmail}\n                keyboardType=\"email-address\"\n            />\n\n            <Input\n                label=\"Senha\"\n                value={password}\n                onChange={setPassword}\n                isPassword\n            />\n\n            {!isLoading ? (\n                <View>\n                    <TouchableOpacity\n                        style={styles.appButtonContainerLogin}\n                        onPress={login}\n                    >\n                        <Text style={styles.appButtonText}>Entrar</Text>\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                        style={styles.appButtonContainerRegister}\n                        onPress={openUserRegistration}\n                    >\n                        <Text style={styles.appButtonText}>Criar</Text>\n                    </TouchableOpacity>\n                </View>\n            ) : (\n                <View>\n                    <ActivityIndicator\n                        animating={isLoading}\n                        size=\"large\"\n                        color=\"#C4302B\"\n                    />\n                </View>\n            )}\n        </View>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}